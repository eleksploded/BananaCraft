package com.pikachu923.BananaCraft.Items3;

import com.pikachu923.BananaCraft.Entity.BananaBoss.BossEntity;
import com.pikachu923.BananaCraft.Entity.BananaBoss2.Boss2Entity;
import com.pikachu923.BananaCraft.init.Tier1Tools;
import com.pikachu923.BananaCraft.init.Tier2Tools;
import com.pikachu923.BananaCraft.reference.Reference;
import com.pikachu923.BananaCraft.utility.LogHelper;
import com.pikachu923.BananaCraft.utility.func;

import cpw.mods.fml.relauncher.Side;
import cpw.mods.fml.relauncher.SideOnly;
import net.minecraft.client.renderer.texture.IIconRegister;
import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.entity.EntityLivingBase;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraft.item.ItemSword;
import net.minecraft.potion.Potion;
import net.minecraft.potion.PotionEffect;
import net.minecraft.util.IIcon;
import net.minecraft.world.World;

public class CoreExtractor extends ItemSword {
    String Texture;
    World world;
    double x;
    double y;
    double z;
    
    public CoreExtractor(String unlocalName) {
        super(ToolMaterial.WOOD);
        this.setUnlocalizedName(Reference.RESOURCE_PREFIX + unlocalName);
        this.Texture = Reference.RESOURCE_PREFIX + unlocalName;
        this.setCreativeTab(Reference.CreativeTab);
    }

    @SideOnly(value=Side.CLIENT)
    public void registerIcons(IIconRegister iconRegister) {
    	this.itemIcon = iconRegister.registerIcon(this.Texture);
    }

    public boolean hitEntity(ItemStack item, EntityLivingBase entity, EntityLivingBase player) {
        //entity.addPotionEffect(new PotionEffect(Potion.wither.getId(), 200, 1, false));
        Boss2Entity entity2 = new Boss2Entity(world, false);
        
        if(entity == new Boss2Entity(world, true)) {
        	LogHelper.Log("YES");
        	x = entity.posX;
        	y = entity.posY;
        	z = entity.posZ;
        	entity.setDead();
        	entity2.setPosition(x, y, z);
        	world.spawnEntityInWorld(entity2);
        }
        
        
        
        func.removeItem(player, item);
        return true;
    }
}