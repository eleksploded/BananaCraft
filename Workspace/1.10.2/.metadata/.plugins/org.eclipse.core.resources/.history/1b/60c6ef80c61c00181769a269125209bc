package com.pikachu923.BananaCraft.utility;

import java.util.Random;

import org.apache.logging.log4j.Level;

import com.google.common.base.Strings;
import com.pikachu923.BananaCraft.block.BlockWrapper;
import com.pikachu923.BananaCraft.reference.Reference;

import net.minecraft.block.Block;
import net.minecraft.entity.Entity;
import net.minecraft.entity.EntityList;
import net.minecraft.entity.EnumCreatureType;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.inventory.IInventory;
import net.minecraft.item.Item;
import net.minecraft.item.ItemBlock;
import net.minecraft.item.ItemStack;
import net.minecraftforge.fml.common.registry.EntityRegistry;
import net.minecraftforge.fml.common.registry.GameRegistry;

public class func {
	public static void removeItem(EntityPlayer ep, ItemStack removeitem) {
		IInventory inv = ep.inventory;
		for(int i=0; i < inv.getSizeInventory(); i++)
		{
			if(inv.getStackInSlot(i) != null)
			{
				ItemStack j = inv.getStackInSlot(i);
				if(j.getItem() != null && j.getItem() == removeitem.getItem())
				{
					inv.setInventorySlotContents(i, null);
				}
			}
		}
	}
	
	public static void removeItem(Entity e, ItemStack removeitem) {
		EntityPlayer ep = (EntityPlayer) e;
		IInventory inv = ep.inventory;
		for(int i=0; i < inv.getSizeInventory(); i++)
		{
			if(inv.getStackInSlot(i) != null)
			{
				ItemStack j = inv.getStackInSlot(i);
				if(j.getItem() != null && j.getItem() == removeitem.getItem())
				{
					inv.setInventorySlotContents(i, null);
				}
			}
		}
	}
	
	public static void registerEntity(Class entityClass, String name, boolean Spawns)
	{
		int entityID = EntityRegistry.findGlobalUniqueEntityId();
		long seed = name.hashCode();
		Random rand = new Random(seed);
		int primaryColor = rand.nextInt() * 16777215;
		int secondaryColor = rand.nextInt() * 16777215;

		EntityRegistry.registerGlobalEntityID(entityClass, name, entityID);
		EntityRegistry.registerModEntity(entityClass, name, entityID, Reference.MOD_ID, 64, 1, true);
		EntityList.entityEggs.put(Integer.valueOf(entityID), new EntityList.EntityEggInfo(entityID, primaryColor, secondaryColor));
		if(Spawns == true) {
			EntityRegistry.addSpawn(entityClass, 6, 1, 5, EnumCreatureType.creature);
			LogHelper.Log(Level.DEBUG, "Spawn for " + name + "On");
		} else {
			LogHelper.Log(Level.DEBUG, "Spawn for " + name + "Off");
		}
	}
	
	public static void registerEntity(Class entityClass, String name, int primaryColor, int secondaryColor, boolean Spawns)
	{
		int entityID = EntityRegistry.findGlobalUniqueEntityId();
		long seed = name.hashCode();
		Random rand = new Random(seed);
		

		EntityRegistry.registerGlobalEntityID(entityClass, name, entityID);
		EntityRegistry.registerModEntity(entityClass, name, entityID, Reference.MOD_ID, 64, 1, true);
		EntityList.entityEggs.put(Integer.valueOf(entityID), new EntityList.EntityEggInfo(entityID, primaryColor, secondaryColor));
		
		if(Spawns == true) {
			EntityRegistry.addSpawn(entityClass, 6, 1, 5, EnumCreatureType.creature);
			LogHelper.Log(Level.DEBUG, "Spawn for " + name + "On");
		} else {
			LogHelper.Log(Level.DEBUG, "Spawn for " + name + "Off");
		}
	}
	
	public static void registerEntityNoEgg(Class entityClass, String name, boolean Spawns)
	{
		int entityID = EntityRegistry.findGlobalUniqueEntityId();

		EntityRegistry.registerGlobalEntityID(entityClass, name, entityID);
		EntityRegistry.registerModEntity(entityClass, name, entityID, Reference.MOD_ID, 64, 1, true);
		//EntityList.entityEggs.put(Integer.valueOf(entityID), new EntityList.EntityEggInfo(entityID, primaryColor, secondaryColor));
		if(Spawns == true) {
			EntityRegistry.addSpawn(entityClass, 6, 1, 5, EnumCreatureType.creature);
			LogHelper.Log(Level.DEBUG, "Spawn for " + name + "On");
		} else {
			LogHelper.Log(Level.DEBUG, "Spawn for " + name + "Off");
		}
	}
	
	public static void registerItem(Item item, String name)
    {
        if (item.getRegistryName() == null && Strings.isNullOrEmpty(name))
            throw new IllegalArgumentException("Attempted to register a item with no name: " + item);
        if (item.getRegistryName() != null && !item.getRegistryName().toString().equals(name))
            throw new IllegalArgumentException("Attempted to register a item with conflicting names. Old: " + item.getRegistryName() + " New: " + name);
        GameRegistry.register(item.getRegistryName() == null ? item.setRegistryName(name) : item);
    }

	public static Block registerBlock(BlockWrapper block, String name) {
		if (block.getRegistryName() == null && Strings.isNullOrEmpty(name))
            throw new IllegalArgumentException("Attempted to register a Block with no name: " + block);
        if (block.getRegistryName() != null && !block.getRegistryName().toString().equals(name))
            throw new IllegalArgumentException("Attempted to register a Block with conflicting names. Old: " + block.getRegistryName() + " New: " + name);
        return registerBlock(block.getRegistryName() != null ? block : block.setRegistryName(name));
	}
	
	 public static Block registerBlock(Block block)
	    {
	        GameRegistry.register(block);
	        GameRegistry.register(new ItemBlock(block).setRegistryName(block.getRegistryName()));
	        return block;
	    }
}
