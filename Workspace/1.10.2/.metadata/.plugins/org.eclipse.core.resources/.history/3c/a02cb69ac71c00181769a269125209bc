package com.pikachu923.BananaCraft.Handler;

import org.apache.logging.log4j.Level;

import com.pikachu923.BananaCraft.init.Tier1Items;
import com.pikachu923.BananaCraft.utility.LogHelper;

import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;
import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
import net.minecraftforge.fml.common.gameevent.PlayerEvent;

public class CraftingHandler {
	
	@SubscribeEvent
    public void onItemCraftedEvent(PlayerEvent.ItemCraftedEvent event) {
		LogHelper.Log(Level.DEBUG, "onCrafting Loaded");
		for(int i = 0; i < event.craftMatrix.getSizeInventory(); i++) {
			//if  (event.craftMatrix.getStackInSlot(i) != null) {
				
				ItemStack item0 = event.craftMatrix.getStackInSlot(i);
						if(item0 != null && item0.getItem() == Tier1Items.BananaLifeCore) {
							Item l = event.craftMatrix.getStackInSlot(i).getItem();
							ItemStack k = new ItemStack(l, 1, (item0.getItemDamage() + 1));
						
							if(k.getItemDamage() > = k.getMaxDamage()) {
								k.stackSize = 0;
								
							}
							
							event.craftMatrix.setInventorySlotContents(i, k);
						}
						
				/*ItemStack item1 = event.craftMatrix.getStackInSlot(i);
						if(item1 != null && item1.getItem() == Tier1Items.BananaLifeCore) {
							ItemStack k = new ItemStack(Tier1Items.BananaLifeCore, 1, (item0.getItemDamage() + 1))
						
							if(k.getItemDamage() >= k.getMaxDamage()) {
								k.stackSize--;
								
							}
							
							event.craftMatrix.setInventorySlotContents(i, k);
						}*/
			
		}
	}
}
